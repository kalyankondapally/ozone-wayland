From 9c2795fdf4accddaf56d71286d199a915dea8d2e Mon Sep 17 00:00:00 2001
From: Kondapally Kalyan <kalyan.kondapally@intel.com>
Date: Thu, 21 Nov 2013 13:37:11 +0200
Subject: [PATCH] 0006-Add-x11-checks-in-SplashScreen

---
 ash/wm/boot_splash_screen_chromeos.cc |    4 ++++
 1 file changed, 4 insertions(+)

diff --git a/ash/wm/boot_splash_screen_chromeos.cc b/ash/wm/boot_splash_screen_chromeos.cc
index ca862fa..ca64aec 100644
--- a/ash/wm/boot_splash_screen_chromeos.cc
+++ b/ash/wm/boot_splash_screen_chromeos.cc
@@ -7,7 +7,9 @@
 #include "third_party/skia/include/core/SkBitmap.h"
 #include "ui/aura/root_window.h"
 #include "ui/aura/window.h"
+#if defined(USE_X11)
 #include "ui/base/x/x11_util.h"
+#endif
 #include "ui/compositor/layer.h"
 #include "ui/compositor/layer_type.h"
 #include "ui/compositor/scoped_layer_animation_settings.h"
@@ -35,8 +37,10 @@ class BootSplashScreen::CopyHostContentLayerDelegate
     // TODO(derat): Instead of copying the data, use GLX_EXT_texture_from_pixmap
     // to create a zero-copy texture (when possible):
     // https://codereview.chromium.org/10543125
+#if defined(USE_X11)
     ui::CopyAreaToCanvas(root_window_->host()->GetAcceleratedWidget(),
         root_window_->host()->GetBounds(), gfx::Point(), canvas);
+#endif
   }
 
   virtual void OnDeviceScaleFactorChanged(float device_scale_factor) OVERRIDE {}
-- 
1.7.9.5

